<html>
  <head>
  </head>
  <body>
<h1>Agent Specification</h1>
<h2>Introduction</h2>
<p>
This document gives an overview of the general mechanics behind the <i>agents</i> which populate Ecosim's environment. However, these details are likely to change during the course of development.
</p>


<h2>Key Terms and Concepts</h2>
<table>
  <tr>
    <th>Term</th>
    <th>Description</th>
  </tr>
  <tr><td>Agent</td><td>A "living" creature in the environment. An entity</td></tr>
  <tr><td>Attribute</td><td>A characteristic of an agent which influences behaviour and/or represents it's condition</td></tr>
  <tr><td>Confidence / Fear</td><td>How likely an agent is to approach another which is non-related </td></tr>
  <tr><td>Energy</td><td>How "hungry" an agent is</td></tr>
  <tr><td>Flock</td><td>A self-emerging group behaviour <sup>[See <a href="https://en.wikipedia.org/wiki/Boids">Boids</a>]</sup></td></tr>
  <tr><td>Genes</td><td>Static attributes</td></tr>
  <tr><td>Living entity</td><td>An agent with energy, which can move and consume</td></tr>
  <tr><td>Metabolism</td><td>How quickly an agent uses energy, this has pros and cons. A higher metabolism allows faster movement, but also faster starvation</td></tr>
  <tr><td>Mutation</td><td>Slight changes in an Offspring's static attributes, or "genes"</td></tr>
  <tr><td>Non-living entity</td><td>An entity which was previously an agent. It cannot move or consume, but it can be consumed.</td></tr>
  <tr><td>Related</td><td>The relationship between two entities which share similar genes</td></tr>
  <tr><td>State</td><td>The state of an entity. Living or non-living</td></tr>
</table>

<h2>Overview</h2>
<p>
When the program is ran, a number of agent groups, each with predefined <i>static attributes</i> shall populate the world. Since members of these groups posses the same attributes as their peers, they are considered to be <i>related</i>. These attributes will be represented as a has, as to allow agents to identity each other. <br/><br/>

Attributes which are static change the way that agents interact with the world, and can be considered to be similar to <i>genes</i> in real living creatures. For example, if an agent has a low <i>Confidence / Fear</i> gene, then it is far more likely to avoid non-related agents. These attributes effect a wide range of behaviours, which can be seen in the "Agent Attribute" table below. <br/><br/>

Agents are required to maintain an <i>energy</i> level. This is analogous to humans requiring food. Moving around the environment uses energy, so agents are required to eat regularly. If they do not, they will die, becoming <i>non-living entities</i> and food for others. In contrast, if they consume more than enough food then they are able to reproduce, this happens by the agent splitting into two copies of itself.<br/><br/>

To keep the environment interesting and diverse, when an agent splits there is a likelihood of <i>mutating</i>. This means that the copy of the original agent has it's <i>genes</i> slightly modified. This can result in an improvement or reduction in the chances of survival.
</p>


<h2>Agent Attributes</h2>
<p>
Each agent in the world shall be represented by a data structure containing various attributes. There are two kinds of attributes associated with each agent. <i>Dynamic attributes</i> and <i>static attributes</i>
<br />
<br />

<i>Dynamic attributes</i> can change during the course of the simulation due to changes in the environment. <i>static attributes</i>, which are generated at the <i>birth</i> and cannot be changed. Static attributes can only be modified outside of the game via a config file, or via <i>mutation</i> when the agent is born.
</p>
<table>
  <tr>
    <th colspan=4>Dynamic Attributes</th>
  </tr>
  <tr>
    <th>Attribute</th>
    <th>Description</th>
    <th>Datatype</th>
    <th>Range</th>
  </tr>
  <tr>
    <td>Hash</td>
    <td>A representation of the static attributes of the entity</td>
    <td>char array</td>
    <td>N/a</td>
  </tr>
  <tr>
    <td>Energy</td>
    <td>The amount of energy an agent has left</td>
    <td>int</td>
    <td>0 to 255</td>
  </tr>
  <tr>
    <td>State</td>
    <td>-1: Dead (remove), 0: Dead (as food), 1: Living</td>
    <td>int</td>
    <td>-1 to 1</td>
  </tr>
  <tr>
    <td>X</td>
    <td>X position in the world</td>
    <td>float</td>
    <td>-1 to 1</td>
  </tr>
  <tr>
    <td>y</td>
    <td>Y position in the world</td>
    <td>float</td>
    <td>-1 to 1</td>
  </tr>
  <tr>
    <td>X velocity</td>
    <td>X velocity of the agent</td>
    <td>float</td>
    <td>-1 to 1</td>
  </tr>
  <tr>
    <td>Y velocity</td>
    <td>Y position in the world</td>
    <td>float</td>
    <td>-1 to 1</td>
  </tr>
  <tr>
    <th colspan=4>Static Attributes (General)</th>
  </tr>
  <tr>
    <td>Confidence / Fear</td>
    <td>The direction an agent will move towards another non-related agent (an agent with a different hash)</td>
    <td>float</td>
    <td>-1 to 1</td>
  </tr>
  <tr>
    <td>Metabolism</td>
    <td>How quickly an agent uses energy, a higher value allows the agent to move quicker</td>
    <td>float</td>
    <td>0 to 1</td>
  </tr>
  <tr>
    <th colspan=4>Static Attributes (Diet)</th>
  </tr>
  <tr>
    <td>Living food preference</td>
    <td>How likely an agent will attempt to consume a living entity</td>
    <td>float</td>
    <td>0 to 1</td>
  </tr>
  <tr>
    <td>Non-living food preference</td>
    <td>How likely an agent will attempt to consume a non-living entity</td>
    <td>float</td>
    <td>0 to 1</td>
  </tr>
  <tr>
    <th colspan=4>Static Attributes (Flocking)</th>
  </tr>
  <tr>
    <td>Flock master influence</td>
    <td>How much flocking affects an agent</td>
    <td>float</td>
    <td>0 to 1</td>
  </tr>
  <tr>
    <td>Flock pull influence</td>
    <td>How much pull a flock has on an entity</td>
    <td>float</td>
    <td>0 to 1</td>
  </tr>
  <tr>
    <td>Flock proximity</td>
    <td>The distance maintained between agents in a flock</td>
    <td>float</td>
    <td>0 to 1</td>
  </tr>
  <tr>
    <td>Flock velocity mirroring</td>
    <td>The amount of effect the flocks velocity has on an agent</td>
    <td>float</td>
    <td>0 to 1</td>
  </tr>
</table>

<h2>Agent Life Cycle</h2>
<p>
The life cycle of any agent in the simulation can be broken down into the following steps:
<ol>
  <li>The agent is born as a <i>living entity</i> in state 1</li>
  <li>The agent processes all information about the environment it has available, for example, proximity of food, or other agents</li>
  <li>The agent performs any of the following actions:
    <ul>
      <li>Consume, either a <i>living</i> or <i>non-living entity</i>, or both, increasing the agents <i>energy level</i> and forcing the entity into state -1. <b>Only if</b> a suitable entity is within range.</li>
      <li>Reproduce, splitting itself into two agents, with slightly <i>mutated</i> static attributes. <b>Only if</b> the agent has enough <i>energy</i></li>
    </ul>
  </li>
  <li>The agent moves position based on it's <i>static attributes</i> and environmental information.</li>
  <li>The agent's <i>energy</i> is checked, if it is below a threshold, move to <i>state 0</i></li>
  <li>The agent performs one of the following actions depending on which <i>state</i> it is in:
    <ul>
      <li><b>State -1</b>: The agent is completely removed from the environment</li>
      <li><b>State 0</b>: The agent is dead, but remains in the environment as food for others as a <i>non-living entity</i> </li>
      <li><b>State 1</b>: The agent survives, decrease <i>energy</i> and go to step 2</li>
    </ul></li>
</ol>
</p>
</body>
</html>
